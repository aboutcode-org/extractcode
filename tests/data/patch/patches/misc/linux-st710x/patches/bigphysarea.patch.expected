[
  [
    "linux-2.6.23/mm/bpa2.c.org", 
    "linux-2.6.23/mm/bpa2.c", 
    [
      "--- linux-2.6.23/mm/bpa2.c.org", 
      "+++ linux-2.6.23/mm/bpa2.c", 
      "@@ -344,25 +344,6 @@", 
      "}", 
      "", 
      "/*", 
      "- * Create legacy \"bigphysarea\" partition (if kindly asked ;-)", 
      "- */", 
      "-static int __init bpa2_bigphys_setup(char *str)", 
      "-{", 
      "-\tconst char *name = \"bigphysarea\";", 
      "-\tint pages;", 
      "-", 
      "-\tif (get_option(&str, &pages) != 1) {", 
      "-\t\tprintk(KERN_ERR \"bpa2: wrong 'bigphysarea' parameter\\n\");", 
      "-\t\treturn -EINVAL;", 
      "-\t}", 
      "-", 
      "-\tbpa2_add_part(&name, 1, 0, pages << PAGE_SHIFT, BPA2_NORMAL);", 
      "-", 
      "-\treturn 1;", 
      "-}", 
      "-__setup(\"bigphysarea=\", bpa2_bigphys_setup);", 
      "-", 
      "-/*", 
      "* Create \"bpa2parts\"-defined partitions", 
      "*/", 
      "static int __init bpa2_parts_setup(char *str)"
    ]
  ], 
  [
    "linux-2.6.23/init/main.c.org", 
    "linux-2.6.23/init/main.c", 
    [
      "--- linux-2.6.23/init/main.c.org", 
      "+++ linux-2.6.23/init/main.c", 
      "@@ -56,6 +56,9 @@", 
      "#include <linux/device.h>", 
      "#include <linux/kthread.h>", 
      "#include <linux/immediate.h>", 
      "+#ifdef CONFIG_BPA2", 
      "+#include <linux/bpa2.h>", 
      "+#endif", 
      "", 
      "#include <asm/io.h>", 
      "#include <asm/bugs.h>", 
      "@@ -511,6 +512,40 @@", 
      "{", 
      "}", 
      "", 
      "+unsigned long dvr_bigphysarea_addition __attribute__ ((section (\".dvr_bigphysarea_addition\"))) = 0;", 
      "+unsigned long dvb_bigphysarea_addition __attribute__ ((section (\".dvb_bigphysarea_addition\"))) = 0;", 
      "+unsigned long testapp_bigphysarea_addition __attribute__ ((section (\".testapp_bigphysarea_addition\"))) = 0;", 
      "+", 
      "+#ifdef CONFIG_BPA2", 
      "+static void __init init_bigphysarea(void)", 
      "+{", 
      "+\tstruct bpa2_partition_desc partdesc = {", 
      "+\t\t.name   = \"bigphysarea\",", 
      "+\t\t.start  = 0,", 
      "+\t\t.size   = 0,", 
      "+\t\t.flags  = BPA2_NORMAL,", 
      "+\t\t.aka    = NULL,", 
      "+\t};", 
      "+", 
      "+\tif (dvr_bigphysarea_addition) {", 
      "+\t\tprintk(KERN_NOTICE \"Kernel has DVR version 5 support\\n\");", 
      "+\t} else {", 
      "+\t\tprintk(KERN_NOTICE \"Kernel has NOT DVR version 5\\n\");", 
      "+\t}", 
      "+       if (dvb_bigphysarea_addition) {", 
      "+               printk(KERN_NOTICE \"Kernel has DVB support\\n\");", 
      "+       } else {", 
      "+               printk(KERN_NOTICE \"Kernel has NOT DVB support\\n\");", 
      "+       }", 
      "+\tpartdesc.size = (CONFIG_VIP19XX_BIGPHYSAREA_SIZE", 
      "+\t\t\t + dvr_bigphysarea_addition", 
      "+\t\t\t + dvb_bigphysarea_addition", 
      "+\t\t\t + testapp_bigphysarea_addition) << PAGE_SHIFT;", 
      "+", 
      "+\tbpa2_init(&partdesc, 1);", 
      "+}", 
      "+#endif", 
      "+", 
      "asmlinkage void __init start_kernel(void)", 
      "{", 
      "char * command_line;", 
      "@@ -564,6 +589,9 @@", 
      "parse_args(\"Booting kernel\", static_command_line, __start___param,", 
      "__stop___param - __start___param,", 
      "&unknown_bootoption);", 
      "+#ifdef CONFIG_BPA2", 
      "+\tinit_bigphysarea();", 
      "+#endif", 
      "if (!irqs_disabled()) {", 
      "printk(KERN_WARNING \"start_kernel(): bug: interrupts were \"", 
      "\"enabled *very* early, fixing it\\n\");"
    ]
  ]
]