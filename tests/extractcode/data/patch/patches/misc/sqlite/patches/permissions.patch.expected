[('sqlite-3.6.5/src/os_unix.c~',
  'sqlite-3.6.5/src/os_unix.c',
  '--- sqlite-3.6.5/src/os_unix.c~\n+++ sqlite-3.6.5/src/os_unix.c\n@@ -89,7 +89,7 @@\n** Default permissions when creating a new file\n*/\n#ifndef SQLITE_DEFAULT_FILE_PERMISSIONS\n-# define SQLITE_DEFAULT_FILE_PERMISSIONS 0644\n+# define SQLITE_DEFAULT_FILE_PERMISSIONS 0666\n#endif\n\n/*\n@@ -2656,7 +2656,9 @@ static int unixOpen(\nif( isExclusive ) oflags |= (O_EXCL|O_NOFOLLOW);\noflags |= (O_LARGEFILE|O_BINARY);\n\n+  mode_t oldMode = umask(0);\nfd = open(zName, oflags, isDelete?0600:SQLITE_DEFAULT_FILE_PERMISSIONS);\n+  umask(oldMode);\nif( fd<0 && errno!=EISDIR && isReadWrite && !isExclusive ){\n/* Failed to open the file for read/write access. Try read-only. */\nflags &= ~(SQLITE_OPEN_READWRITE|SQLITE_OPEN_CREATE);')]