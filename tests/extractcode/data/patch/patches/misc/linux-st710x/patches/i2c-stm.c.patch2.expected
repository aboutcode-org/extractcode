[('linux-2.6.23/drivers/i2c/busses/i2c-stm.c.orig',
  'linux-2.6.23/drivers/i2c/busses/i2c-stm.c',
  '--- linux-2.6.23/drivers/i2c/busses/i2c-stm.c.orig\n+++ linux-2.6.23/drivers/i2c/busses/i2c-stm.c\n@@ -330,6 +330,9 @@ static irqreturn_t iic_state_machine(int\n(NULL, "comms_clk")));\n\ntrsc->start_state = IIC_FSM_START;\n+                ssc_store32(adap, SSC_CTL, SSC_CTL_SR | SSC_CTL_EN | SSC_CTL_MS |\n+                    SSC_CTL_PO | SSC_CTL_PH | SSC_CTL_HB | 0x8);\n+\n\n/* Enable RX FIFO, enable clock stretch on TX empty */\nssc_store32(adap, SSC_CTL, SSC_CTL_EN | SSC_CTL_MS |\n@@ -693,9 +696,9 @@ static int iic_wait_free_bus(struct iic_\nreturn 1;\n}\n\n-\tiic_ssc_reset(adap);\n+\t//iic_ssc_reset(adap);\n\n-\tfor (idx = 0; idx < 10; ++idx) {\n+\tfor (idx = 0; idx < 10/*5*/; ++idx) {\nreg = ssc_load32(adap, SSC_STA);\ndbg_print("iic_wait_free_bus: status = 0x%08x\\n", reg);\nif (!(reg & SSC_STA_BUSY))')]