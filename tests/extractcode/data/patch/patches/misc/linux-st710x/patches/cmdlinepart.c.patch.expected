[('linux-2.6.23/drivers/mtd/cmdlinepart.c.orig',
  'linux-2.6.23/drivers/mtd/cmdlinepart.c',
  '--- linux-2.6.23/drivers/mtd/cmdlinepart.c.orig\n+++ linux-2.6.23/drivers/mtd/cmdlinepart.c\n@@ -315,10 +315,14 @@\n{\nfor(i = 0, offset = 0; i < part->num_parts; i++)\n{\n+#if 0\nif (part->parts[i].offset == OFFSET_CONTINUOUS)\npart->parts[i].offset = offset;\nelse\noffset = part->parts[i].offset;\n+#else\n+\t\t\t\toffset = part->parts[i].offset;\n+#endif\nif (part->parts[i].size == SIZE_REMAINING)\npart->parts[i].size = master->size - offset;\nif (offset + part->parts[i].size > master->size)')]