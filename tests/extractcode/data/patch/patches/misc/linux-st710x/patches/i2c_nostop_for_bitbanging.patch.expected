[('linux-2.6.23.orig/drivers/i2c/algos/i2c-algo-bit.c',
  'linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c',
  'Index: linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c\n===================================================================\n--- linux-2.6.23.orig/drivers/i2c/algos/i2c-algo-bit.c\n+++ linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c\n@@ -18,7 +18,7 @@\nFoundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.\t\t     */\n/* ------------------------------------------------------------------------- */\n\n-/* With some changes from Frodo Looijaard <frodol@dds.nl>, Ky\xf6sti M\xe4lkki\n+/* With some changes from Frodo Looijaard <frodol@dds.nl>, Ky\xef\xbf\xbdsti M\xef\xbf\xbdlkki\n<kmalkki@cc.hut.fi> and Jean Delvare <khali@linux-fr.org> */\n\n#include <linux/kernel.h>\n@@ -33,12 +33,11 @@\n\n\n/* ----- global defines ----------------------------------------------- */\n-\n#ifdef DEBUG\n#define bit_dbg(level, dev, format, args...) \\\ndo { \\\nif (i2c_debug >= level) \\\n-\t\t\tdev_dbg(dev, format, ##args); \\\n+\t\tdev_dbg(dev, format, ##args); \\\n} while (0)\n#else\n#define bit_dbg(level, dev, format, args...) \\\n@@ -568,6 +567,9 @@ bailout:\nbit_dbg(3, &i2c_adap->dev, "emitting stop condition\\n");\ni2c_stop(adap);\n}\n+\tif (pmsg->flags & I2C_M_NOSTOP) {\n+\t\tset_lasti2cwas_nostop(adap);\n+\t}\nreturn ret;\n}\n')]