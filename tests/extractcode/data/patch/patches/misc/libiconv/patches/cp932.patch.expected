[('libiconv-1.11_ORG/NEWS',
  'libiconv-1.11_NEW/NEWS',
  'diff -cr libiconv-1.11_ORG/NEWS libiconv-1.11_NEW/NEWS\n--- libiconv-1.11_ORG/NEWS\n+++ libiconv-1.11_NEW/NEWS\n@@ -1,3 +1,6 @@\n+New in cp932.patch:\n+* Changed CP932 converter to use mapping table based on CP932.TXT.\n+\nNew in 1.11:\n* The iconv program has new options --unicode-subst, --byte-subst,\n--widechar-subst that allow to specify substitutions for characters that'),
 ('libiconv-1.11_ORG/tests/CP932.TXT',
  'libiconv-1.11_NEW/tests/CP932.TXT',
  "diff -cr libiconv-1.11_ORG/lib/cp932.h libiconv-1.11_NEW/lib/cp--- libiconv-1.11_ORG/lib/cp932.h\t2005-12-15 21:25:52.000000000 +0900\n+++ libiconv-1.11_NEW/lib/cp932.h\t2009-06-09 18:03:53.000000000 +0900\n@@ -41,11 +41,7 @@\n*    0x8192  0x00A3 # POUND SIGN            0xFFE1 # FULLWIDTH POUND SIGN\n*    0x81CA  0x00AC # NOT SIGN              0xFFE2 # FULLWIDTH NOT SIGN\n*\n- *    We don't implement the latter 6 of these changes, only the first one.\n- *    SHIFTJIS.TXT makes more sense. However, as a compromise with user\n- *    expectation, we implement the middle 5 of these changes in the\n- *    Unicode to CP932 direction. We don't implement the last one at all,\n- *    because it would collide with the mapping of 0xFA54.\n+ *    We implement these changes.\n*\n* 3. A few new rows. See cp932ext.h.\n*\n@@ -100,7 +96,25 @@\nif (n < 2)\nreturn RET_TOOFEW(0);\ns2 = s[1];\n-      if ((s2 >= 0x40 && s2 <= 0x7e) || (s2 >= 0x80 && s2 <= 0xfc)) {\n+      if (s1 == 0x81 && s2 == 0x60) {        /* 0x8160 -> U+FF5E */\n+        *pwc = 0xff5e;\n+        return 2;\n+      } else if (s1 == 0x81 && s2 == 0x61) { /* 0x8161 -> U+2225 */\n+        *pwc = 0x2225;\n+        return 2;\n+      } else if (s1 == 0x81 && s2 == 0x7c) { /* 0x817C -> U+FF0D */\n+        *pwc = 0xff0d;\n+        return 2;\n+      } else if (s1 == 0x81 && s2 == 0x91) { /* 0x8191 -> U+FFE0 */\n+        *pwc = 0xffe0;\n+        return 2;\n+      } else if (s1 == 0x81 && s2 == 0x92) { /* 0x8192 -> U+FFE1 */\n+        *pwc = 0xffe1;\n+        return 2;\n+      } else if (s1 == 0x81 && s2 == 0xca) { /* 0x81CA -> U+FFE2 */\n+        *pwc = 0xffe2;\n+        return 2;\n+      } else if ((s2 >= 0x40 && s2 <= 0x7e) || (s2 >= 0x80 && s2 <= 0xfc)) {\nunsigned char t1 = (s1 < 0xe0 ? s1-0x81 : s1-0xc1);\nunsigned char t2 = (s2 < 0x80 ? s2-0x40 : s2-0x41);\nunsigned char buf[2];\n@@ -199,7 +213,7 @@\nreturn 2;\n}\n\n-  /* Irreversible mappings.  */\n+  /* cp932.txt mappings.  */\nif (wc == 0xff5e) {\nif (n < 2)\nreturn RET_TOOSMALL;\n@@ -235,6 +249,13 @@\nr[1] = 0x92;\nreturn 2;\n}\n+  if (wc == 0xffe2) {\n+    if (n < 2)\n+      return RET_TOOSMALL;\n+    r[0] = 0x81;\n+    r[1] = 0xca;\n+    return 2;\n+  }\n\nreturn RET_ILUNI;\n}\ndiff -cr libiconv-1.11_ORG/lib/cp932ext.h libiconv-1.11_NEW/lib/cp932e--- libiconv-1.11_ORG/lib/cp932ext.h\t2005-05-20 01:16:55.000000000 +0900\n+++ libiconv-1.11_NEW/lib/cp932ext.h\t2009-06-09 18:00:30.000000000 +0900\n@@ -650,7 +650,7 @@\n{  453, 0x0084 }, {  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0000 },\n{  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0000 },\n{  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0000 },\n-  {  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0014 },\n+  {  455, 0x0000 }, {  455, 0x0000 }, {  455, 0x0010 },\n};\n\nstatic int\ndiff -cr libiconv-1.11_ORG/tests/CP932.IRREVERSIBLE.TXT libiconv-1.11_NEW--- libiconv-1.11_ORG/tests/CP932.IRREVERSIBLE.TXT\t2005-12-14 21:04:40.000000000 +0900\n+++ libiconv-1.11_NEW/tests/CP932.IRREVERSIBLE.TXT\t2009-06-09 12:03:11.000000000 +0900\n@@ -1,8 +1,9 @@\n-0x8160\t0xFF5E\n-0x8161\t0x2225\n-0x817C\t0xFF0D\n-0x8191\t0xFFE0\n-0x8192\t0xFFE1\n+0x8160\t0x301C\n+0x8161\t0x2016\n+0x817C\t0x2212\n+0x8191\t0x00A2\n+0x8192\t0x00A3\n+0x81CA\t0x00AC\n0x8754\t0x2160\n0x8755\t0x2161\n0x8756\t0x2162\ndiff -cr libiconv-1.11_ORG/tests/CP932.TXT libiconv-1.11_NEW/tests/CP932.TXT\n--- libiconv-1.11_ORG/tests/CP932.TXT\n+++ libiconv-1.11_NEW/tests/CP932.TXT\n@@ -158,8 +158,8 @@\n0x815D\t0x2010\n0x815E\t0xFF0F\n0x815F\t0xFF3C\n-0x8160\t0x301C\n-0x8161\t0x2016\n+0x8160\t0xFFE5\n+0x8161\t0x2225\n0x8162\t0xFF5C\n0x8163\t0x2026\n0x8164\t0x2025\n@@ -186,7 +186,7 @@\n0x8179\t0x3010\n0x817A\t0x3011\n0x817B\t0xFF0B\n-0x817C\t0x2212\n+0x817C\t0xFF0D\n0x817D\t0x00B1\n0x817E\t0x00D7\n0x8180\t0x00F7\n@@ -206,8 +206,8 @@\n0x818E\t0x2103\n0x818F\t0xFFE5\n0x8190\t0xFF04\n-0x8191\t0x00A2\n-0x8192\t0x00A3\n+0x8191\t0xFFE0\n+0x8192\t0xFFE1\n0x8193\t0xFF05\n0x8194\t0xFF03\n0x8195\t0xFF06\n@@ -244,7 +244,7 @@\n0x81BF\t0x2229\n0x81C8\t0x2227\n0x81C9\t0x2228\n-0x81CA\t0x00AC\n+0x81CA\t0xFFE2\n0x81CB\t0x21D2\n0x81CC\t0x21D4\n0x81CD\t0x2200")]