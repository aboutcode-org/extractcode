[('dropbear-2012.55.orig/debian/changelog',
  'dropbear-2012.55/debian/changelog',
  '--- dropbear-2012.55.orig/debian/changelog\n+++ dropbear-2012.55/debian/changelog\n@@ -1,38 +1,126 @@\n-dropbear (2012.55-0.1) unstable; urgency=low\n+dropbear (2012.55-1) unstable; urgency=high\n\n* New upstream release.\n+    * Fix use-after-free bug that could be triggered if command="..."\n+      authorized_keys restrictions are used.  Could allow arbitrary\n+      code execution or bypass of the command="..." restriction to an\n+      authenticated user.  This bug affects releases 0.52 onwards.\n+      Ref CVE-2012-0920 (closes: #661150).  Thanks to Danny Fullerton\n+      of Mantor Organization for reporting the bug.\n\n- -- Matt Johnston <matt@ucc.asn.au>  Wed, 22 Feb 2012 22:54:00 +0800\n+ -- Gerrit Pape <pape@smarden.org>  Mon, 27 Feb 2012 14:18:53 +0000\n\n-dropbear (2011.54-0.1) unstable; urgency=low\n+dropbear (2011.54-1) unstable; urgency=low\n\n-  * New upstream release.\n+  [ Matt Johnston ]\n+  * new upstream release.\n+    * Added ALLOW_BLANK_PASSWORD option. Dropbear also now allows public\n+      key logins to accounts with a blank password. Thanks to Rob\n+      Landley (closes: #555889).\n+    * Bind to sockets with IPV6_V6ONLY so that it works properly on\n+      systems regardless of the system-wide setting (closes: #636696).\n+\n+  [ Gerrit Pape ]\n+  * debian/control: Standards-Version: 3.9.2.0.\n\n- -- Matt Johnston <matt@ucc.asn.au>  Tues, 8 Nov 2011 22:54:00 +0800\n+ -- Gerrit Pape <pape@smarden.org>  Wed, 16 Nov 2011 12:36:03 +0000\n\n-dropbear (0.53.1-0.1) unstable; urgency=low\n+dropbear (0.53.1-1) unstable; urgency=low\n\n+  [ Matt Johnston ]\n* New upstream release.\n+    * SSH_ORIGINAL_COMMAND environment variable is set by the server\n+      when an authorized_keys command is specified (closes: #604524).\n\n- -- Matt Johnston <matt@ucc.asn.au>  Wed, 2 Mar 2011 22:54:00 +0900\n+  [ Gerrit Pape ]\n+  * debian/rules: add --enable-bundled-libtom option to ./configure.\n+  * debian/rules: remove -DXAUTH_COMMAND="/usr/bin/X11/xauth -q from\n+    CFLAGS (workaround ./configure stupidity; closes: #625192).\n+  * debian/diff/0003-options.h-use-usr-bin-xauth-instead-of...diff: new;\n+    use /usr/bin/xauth instead of /usr/bin/X11/xauth for XAUTH_COMMAND\n+    (closes: #614355).\n\n-dropbear (0.53-0.1) unstable; urgency=low\n+ -- Gerrit Pape <pape@smarden.org>  Mon, 02 May 2011 16:35:14 +0000\n\n-  * New upstream release.\n+dropbear (0.52-5) unstable; urgency=low\n+\n+  [ debian@x.ray.net ]\n+  * debian/dropbear.postinst: initramfs-tools uses a conf-hooks.d/\n+    directory for mkinitramfs (\'compiletime\') configuration, so to be\n+    sure to read the whole/correct config we need to source the files\n+    in there too, additionally to initramfs.conf (closes: #575504).\n+  * debian/initramfs/dropbear-conf: set UMASK=0077 (closes: #578117).\n+\n+  [ Gerrit Pape ]\n+  * debian/control: Standards-Version: 3.8.4.0.\n+\n+ -- Gerrit Pape <pape@smarden.org>  Sun, 18 Apr 2010 23:04:36 +0000\n+\n+dropbear (0.52-4) unstable; urgency=low\n+\n+  * debian/initramfs/dropbear-hook: allow more than one public key in\n+    initramfs (thx Chris for the patch; closes: #548309).\n\n- -- Matt Johnston <matt@ucc.asn.au>  Thu, 24 Feb 2011 22:54:00 +0900\n+ -- Gerrit Pape <pape@smarden.org>  Tue, 06 Oct 2009 01:51:42 +0000\n\n-dropbear (0.52-0.1) unstable; urgency=low\n+dropbear (0.52-3) unstable; urgency=low\n\n+  * debian/rules: configure: add XAUTH_COMMAND="/usr/bin/X11/xauth -q"\n+    to CFLAGS (thx Axel Beckert, Colin Watson; closes: #532900).\n+  * debian/dropbear.init: Improve abort messages due to\n+    /etc/default/dropbear::NO_START (thx Jari Aalto for the patch;\n+    closes: #541432).\n+  * debian/control: Provides: ssh-server (thx Steffen Moeller; closes:\n+    #543174)\n+  * debian/control: Suggests: xauth (thx Francis Russell; closes:\n+    #508233).\n+\n+ -- Gerrit Pape <pape@smarden.org>  Thu, 24 Sep 2009 14:37:17 +0000\n+\n+dropbear (0.52-2) unstable; urgency=medium\n+\n+  * debian/initramfs/premount-dropbear: run configure_networking in the\n+    background (thx debian@x.ray.net, closes: #514213, #524728).\n+  * debian/control: Standards-Version: 3.8.2.0.\n+\n+ -- Gerrit Pape <pape@smarden.org>  Sun, 28 Jun 2009 23:22:39 +0000\n+\n+dropbear (0.52-1) unstable; urgency=low\n+\n+  [ Matt Johnston ]\n* New upstream release.\n+    * dbclient.1: mention optional \'command\' argument (closes: #495823).\n+\n+  [ Gerrit Pape ]\n+  * debian/diff/0001-dbclient.1-dbclient-uses-compression-if...diff:\n+    new; dbclient.1: dbclient uses compression if compiled with zlib\n+    support (thx Luca Capello, closes: #495825).\n+  * debian/initramfs/*: new; cryptroot remote unlocking on boot feature\n+    (thx debian@x.ray.net).\n+  * debian/rules: install debian/initramfs/* (thx debian@x.ray.net).\n+  * debian/control: Suggests: udev (for cryptroot support, thx\n+    debian@x.ray.net).\n+  * debian/dropbear.postinst: conditionally run update-initramfs -u\n+    (for cryptroot support, thx debian@x.ray.net. closes: #465903).\n+  * debian/diff/0002-dropbearkey.8-mention-y-option-add-example.diff:\n+    new; mention -y option, add example (thx debian@x.ray.net).\n\n- -- Matt Johnston <matt@ucc.asn.au>  Wed, 12 Nov 2008 22:54:00 +0900\n+ -- Gerrit Pape <pape@smarden.org>  Wed, 19 Nov 2008 20:58:59 +0000\n\n-dropbear (0.51-0.1) unstable; urgency=low\n+dropbear (0.51-1) unstable; urgency=low\n\n+  [ Matt Johnston ]\n* New upstream release.\n+    - Wait until a process exits before the server closes a connection,\n+      so that an exit code can be sent. This fixes problems with exit\n+      codes not being returned, which could cause scp to fail (closes:\n+      #448397, #472483).\n+\n+  [ Gerrit Pape ]\n+  * debian/dropbear.postinst: don\'t print an error message if the\n+    update-service program is not installed (thx Matt).\n\n- -- Matt Johnston <matt@ucc.asn.au>  Thu, 27 Mar 2008 19:14:00 +0900\n+ -- Gerrit Pape <pape@smarden.org>  Thu, 27 Mar 2008 20:08:06 +0000\n\ndropbear (0.50-4) unstable; urgency=low\n'),
 ('dropbear-2012.55.orig/debian/control',
  'dropbear-2012.55/debian/control',
  '--- dropbear-2012.55.orig/debian/control\n+++ dropbear-2012.55/debian/control\n@@ -3,12 +3,13 @@\nPriority: optional\nMaintainer: Gerrit Pape <pape@smarden.org>\nBuild-Depends: libz-dev\n-Standards-Version: 3.7.3.0\n+Standards-Version: 3.9.2.0\n\nPackage: dropbear\nArchitecture: any\nDepends: ${shlibs:Depends}\n-Suggests: openssh-client, runit\n+Suggests: openssh-client, udev, runit, xauth\n+Provides: ssh-server\nDescription: lightweight SSH2 server and client\ndropbear is a SSH 2 server and client designed to be small enough to\nbe used in small memory environments, while still being functional and'),
 ('dropbear-2012.55.orig/debian/dropbear.init',
  'dropbear-2012.55/debian/dropbear.init',
  '--- dropbear-2012.55.orig/debian/dropbear.init\n+++ dropbear-2012.55/debian/dropbear.init\n@@ -14,6 +14,7 @@\nDAEMON=/usr/sbin/dropbear\nNAME=dropbear\nDESC="Dropbear SSH server"\n+DEFAULTCFG=/etc/default/dropbear\n\nDROPBEAR_PORT=22\nDROPBEAR_EXTRA_ARGS=\n@@ -22,7 +23,7 @@\nset -e\n\ncancel() { echo "$1" >&2; exit 0; };\n-test ! -r /etc/default/dropbear || . /etc/default/dropbear\n+test ! -r $DEFAULTCFG || . $DEFAULTCFG\ntest -x "$DAEMON" || cancel "$DAEMON does not exist or is not executable."\ntest ! -x /usr/sbin/update-service || ! update-service --check dropbear ||\ncancel \'The dropbear service is controlled through runit, use the sv(8) program\'\n@@ -38,7 +39,9 @@\n\ncase "$1" in\nstart)\n-\ttest "$NO_START" = "0" || cancel \'NO_START is not set to zero.\'\n+\ttest "$NO_START" = "0" ||\n+\tcancel "Starting $DESC: [abort] NO_START is not set to zero in $DEFAULTCFG"\n+\necho -n "Starting $DESC: "\nstart-stop-daemon --start --quiet --pidfile /var/run/"$NAME".pid \\\n--exec "$DAEMON" -- -d "$DROPBEAR_DSSKEY" -r "$DROPBEAR_RSAKEY" \\\n@@ -51,7 +54,9 @@\necho "$NAME."\n;;\nrestart|force-reload)\n-\ttest "$NO_START" = "0" || cancel \'NO_START is not set to zero.\'\n+\ttest "$NO_START" = "0" ||\n+\tcancel "Restarting $DESC: [abort] NO_START is not set to zero in $DEFAULTCFG"\n+\necho -n "Restarting $DESC: "\nstart-stop-daemon --stop --quiet --oknodo --pidfile /var/run/"$NAME".pid\nsleep 1'),
 ('dropbear-2012.55.orig/debian/dropbear.postinst',
  'dropbear-2012.55/debian/dropbear.postinst',
  '--- dropbear-2012.55.orig/debian/dropbear.postinst\n+++ dropbear-2012.55/debian/dropbear.postinst\n@@ -61,6 +61,30 @@\nEOT\nfi\n\n+# cryptroot support (debian@x.ray.net)\n+#   if dropbear is to be installed to initramfs, we have to update initramfs.\n+if ( test -r /etc/initramfs-tools/initramfs.conf || test -r /usr/share/initramfs-tools/conf-hooks.d/* ) &&\n+   test -x /usr/sbin/update-initramfs; then\n+  for i in /etc/initramfs-tools/initramfs.conf /usr/share/initramfs-tools/conf-hooks.d/*; do\n+    if [ -e "${i}" ]; then\n+      . "${i}"\n+    fi\n+  done\n+  if test "${DROPBEAR}" = "y" || test -r "/etc/crypttab"; then\n+    # here we could read the configured network-config, and use it for\n+    # default values for prompting the user for the initramfs-network-\n+    # config (subsequently writing it to menu.lst:# kopt= or lilo.conf),\n+    # instead of just printing the reminder below.\n+    update-initramfs -u\n+    cat <<-\\EOT\n+\tDropbear has been added to the initramfs. Don\'t forget to check\n+\tyour "ip=" kernel bootparameter to match your desired initramfs\n+\tip configuration.\n+\n+\tEOT\n+  fi\n+fi\n+\nif test -x /etc/init.d/dropbear; then\nupdate-rc.d dropbear defaults >/dev/null\nif test -x /usr/sbin/invoke-rc.d; then'),
 ('dropbear-2012.55.orig/debian/rules',
  'dropbear-2012.55/debian/rules',
  '--- dropbear-2012.55.orig/debian/rules\n+++ dropbear-2012.55/debian/rules\n@@ -34,9 +34,10 @@\n\nconfig.status: patch-stamp configure\nCC=\'$(CC)\' \\\n-\tCFLAGS=\'$(CFLAGS)\'\' -DSFTPSERVER_PATH="\\"/usr/lib/sftp-server\\""\' \\\n+\tCFLAGS=\'$(CFLAGS) -DSFTPSERVER_PATH="\\"/usr/lib/sftp-server\\""\' \\\n./configure --host=\'$(DEB_HOST_GNU_TYPE)\' \\\n--build=\'$(DEB_BUILD_GNU_TYPE)\' --prefix=/usr \\\n+\t    --enable-bundled-libtom \\\n--mandir=\\$${prefix}/share/man --infodir=\\$${prefix}/share/info \\\n$(CONFFLAGS)\n\n@@ -77,6 +78,23 @@\ninstall -d -m0755 \'$(DIR)\'/etc/dropbear/log\ninstall -m0755 debian/service/log \'$(DIR)\'/etc/dropbear/log/run\nln -s /var/log/dropbear \'$(DIR)\'/etc/dropbear/log/main\n+\t# cryptroot support (debian@x.ray.net)\n+\tinstall -d -m0755 \'$(DIR)\'/usr/share/initramfs-tools/hooks\n+\tinstall -m0755 debian/initramfs/dropbear-hook \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/hooks/dropbear\n+\tinstall -d -m0755 \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/scripts/init-premount\n+\tinstall -m0755 debian/initramfs/premount-devpts \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/scripts/init-premount/devpts\n+\tinstall -m0755 debian/initramfs/premount-dropbear \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/scripts/init-premount/dropbear\n+\tinstall -d -m0755 \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/scripts/init-bottom\n+\tinstall -m0755 debian/initramfs/bottom-dropbear \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/scripts/init-bottom/dropbear\n+\tinstall -d -m0755 \'$(DIR)\'/usr/share/initramfs-tools/conf-hooks.d\n+\tinstall -m0644 debian/initramfs/dropbear-conf \\\n+\t  \'$(DIR)\'/usr/share/initramfs-tools/conf-hooks.d/dropbear\n# man pages\ninstall -d -m0755 \'$(DIR)\'/usr/share/man/man8\nfor i in dropbear.8 dropbearkey.8; do \\'),
 ('dropbear-2012.55.orig/debian/initramfs/bottom-dropbear',
  'dropbear-2012.55/debian/initramfs/bottom-dropbear',
  '--- dropbear-2012.55.orig/debian/initramfs/bottom-dropbear\n+++ dropbear-2012.55/debian/initramfs/bottom-dropbear\n@@ -0,0 +1,23 @@\n+#!/bin/sh\n+\n+PREREQ=""\n+\n+prereqs() {\n+\techo "$PREREQ"\n+}\n+\n+case "$1" in\n+\tprereqs)\n+\t\tprereqs\n+\t\texit 0\n+\t;;\n+esac\n+\n+. /scripts/functions\n+\n+[ -r /var/run/dropbear.pid ] || exit 0\n+\n+log_begin_msg "Stopping dropbear"\n+\n+kill `cat /var/run/dropbear.pid`\n+'),
 ('dropbear-2012.55.orig/debian/initramfs/dropbear-conf',
  'dropbear-2012.55/debian/initramfs/dropbear-conf',
  '--- dropbear-2012.55.orig/debian/initramfs/dropbear-conf\n+++ dropbear-2012.55/debian/initramfs/dropbear-conf\n@@ -0,0 +1,17 @@\n+#\n+# DROPBEAR: [ y | n ]\n+#\n+# Use dropbear if available. If not specified, dropbear will be used - if\n+# possible - in case of cryptroot.\n+#\n+\n+#DROPBEAR=y\n+\n+#\n+# UMASK: [ 4-DIGIT OCTAL UMASK ]\n+#\n+# umask to use when creating an initramfs\n+#\n+\n+UMASK=0077\n+'),
 ('dropbear-2012.55.orig/debian/initramfs/dropbear-hook',
  'dropbear-2012.55/debian/initramfs/dropbear-hook',
  '--- dropbear-2012.55.orig/debian/initramfs/dropbear-hook\n+++ dropbear-2012.55/debian/initramfs/dropbear-hook\n@@ -0,0 +1,52 @@\n+#!/bin/sh\n+\n+PREREQ=""\n+\n+prereqs() {\n+\techo "$PREREQ"\n+}\n+\n+case "$1" in\n+\tprereqs)\n+\t\tprereqs\n+\t\texit 0\n+\t;;\n+esac\n+\n+. "${CONFDIR}/initramfs.conf"\n+. /usr/share/initramfs-tools/hook-functions\n+\n+# Install dropbear if explicitly enabled, or in case of a cryptroot setup if not explicitly disabled\n+if [ "${DROPBEAR}" = "y" ] || ( [ "${DROPBEAR}" != "n" ] && [ -r "/etc/crypttab" ] ); then\n+\tif [ ! -x "/usr/sbin/dropbear" ]; then\n+\t\tif [ "${DROPBEAR}" = "y" ]; then\n+\t\t\techo "dropbear: FAILURE: Dropbear not found!"\n+\t\telse\n+\t\t\techo "dropbear: WARNING: Dropbear not found, remote unlocking of cryptroot via ssh won\'t work!"\n+\t\tfi\n+\telse\n+\t\trm -f "${DESTDIR}/sbin/dropbear"\n+\t\tcopy_exec "/usr/sbin/dropbear" "/sbin/"\n+\t\tcp /lib/libnss_* "${DESTDIR}/lib/"\n+\t\techo "root:x:0:0:root:/root:/bin/sh" > "${DESTDIR}/etc/passwd"\n+\t\tfor keytype in "dss" "rsa"; do\n+\t\t\tif [ ! -f "/etc/initramfs-tools/etc/dropbear/dropbear_${keytype}_host_key" ]; then\n+\t\t\t\tmkdir -p "/etc/initramfs-tools/etc/dropbear"\n+\t\t\t\tdropbearkey -t "${keytype}" -f "/etc/initramfs-tools/etc/dropbear/dropbear_${keytype}_host_key"\n+\t\t\tfi\n+\t\tdone\n+\t\tcp -R /etc/initramfs-tools/etc/dropbear "${DESTDIR}/etc/"\n+\t\tif [ ! -f "/etc/initramfs-tools/root/.ssh/authorized_keys" ]; then\n+\t\t\tmkdir -p "/etc/initramfs-tools/root/.ssh"\n+\t\t\tif [ ! -f "/etc/initramfs-tools/root/.ssh/id_rsa.pub" ]; then\n+\t\t\t\tdropbearkey -t rsa -f /etc/initramfs-tools/root/.ssh/id_rsa.dropbear\n+\t\t\t\t/usr/lib/dropbear/dropbearconvert dropbear openssh /etc/initramfs-tools/root/.ssh/id_rsa.dropbear /etc/initramfs-tools/root/.ssh/id_rsa\n+\t\t\t\tdropbearkey -y -f /etc/initramfs-tools/root/.ssh/id_rsa.dropbear | grep "^ssh-rsa " > /etc/initramfs-tools/root/.ssh/id_rsa.pub\n+\t\t\tfi\n+\t\t\tcat /etc/initramfs-tools/root/.ssh/id_rsa.pub >> /etc/initramfs-tools/root/.ssh/authorized_keys\n+\t\tfi\n+\t\tmkdir -p "${DESTDIR}/root/.ssh"\n+\t\tcp /etc/initramfs-tools/root/.ssh/authorized_keys "${DESTDIR}/root/.ssh/"\n+\tfi\n+fi\n+'),
 ('dropbear-2012.55.orig/debian/initramfs/premount-devpts',
  'dropbear-2012.55/debian/initramfs/premount-devpts',
  '--- dropbear-2012.55.orig/debian/initramfs/premount-devpts\n+++ dropbear-2012.55/debian/initramfs/premount-devpts\n@@ -0,0 +1,24 @@\n+#!/bin/sh\n+\n+PREREQ="udev"\n+\n+prereqs() {\n+\techo "$PREREQ"\n+}\n+\n+case "$1" in\n+\tprereqs)\n+\t\tprereqs\n+\t\texit 0\n+\t;;\n+esac\n+\n+. /scripts/functions\n+\n+grep -E "[[:space:]]+devpts$" /proc/filesystems >/dev/null 2>&1 || exit 0\n+\n+log_begin_msg "Mounting devpts"\n+\n+mkdir -p /dev/pts\n+mount -t devpts none /dev/pts\n+'),
 ('dropbear-2012.55.orig/debian/initramfs/premount-dropbear',
  'dropbear-2012.55/debian/initramfs/premount-dropbear',
  '--- dropbear-2012.55.orig/debian/initramfs/premount-dropbear\n+++ dropbear-2012.55/debian/initramfs/premount-dropbear\n@@ -0,0 +1,36 @@\n+#!/bin/sh\n+\n+PREREQ="udev devpts"\n+\n+prereqs() {\n+\techo "$PREREQ"\n+}\n+\n+case "$1" in\n+\tprereqs)\n+\t\tprereqs\n+\t\texit 0\n+\t;;\n+esac\n+\n+. /scripts/functions\n+\n+[ -x /sbin/dropbear ] || exit 0\n+\n+log_begin_msg "Starting dropbear"\n+\n+. /conf/initramfs.conf\n+\n+for x in $(cat /proc/cmdline); do\n+\tcase "$x" in\n+\t\tip=*)\n+\t\t\tIPOPTS="${x#ip=}"\n+\t\t\t;;\n+\tesac\n+done\n+\n+configure_networking &\n+\n+mkdir -p /var/run\n+/sbin/dropbear\n+'),
 ('dropbear-2012.55.orig/debian/diff/0001-dbclient.1-dbclient-uses-compression-if-compiled-with.diff',
  'dropbear-2012.55/debian/diff/0001-dbclient.1-dbclient-uses-compression-if-compiled-with.diff',
  "--- dropbear-2012.55.orig/debian/diff/0001-dbclient.1-dbclient-uses-compression-if-compiled-with.diff\n+++ dropbear-2012.55/debian/diff/0001-dbclient.1-dbclient-uses-compression-if-compiled-with.diff\n@@ -0,0 +1,47 @@\n+From 468cd0ac91b11f6319b2eb46c076bf158e548c2d Mon Sep 17 00:00:00 2001\n+From: Gerrit Pape <pape@smarden.org>\n+Date: Wed, 19 Nov 2008 20:00:53 +0000\n+Subject: [PATCH 1/3] dbclient.1: dbclient uses compression if compiled with\n+ zlib support\n+\n+On Fri, Sep 26, 2008 at 03:40:57PM +0200, Luca Capello wrote:\n+> On Tue, 23 Sep 2008 16:24:25 +0200, Matt Johnston wrote:\n+> > On Wed, Aug 20, 2008 at 07:43:58PM +0200, Luca Capello wrote:\n+> >> Could you please clarify if dbclient really support compression or not?\n+> >> If yes, could you please explain in the manpage how to enable it?\n+> >\n+> > As long as Dropbear was compiled with zlib support (which I\n+> > assume is the case for Debian)\n+>\n+> It seems so, at least the source build-depends on libz-dev and the\n+> binary depends on zlib1g.\n+>\n+> > dbclient will always use compression if the server supports it. There\n+> > isn't any option to disable it at the moment.\n+>\n+> Is there a way to test that compression is used?  I'm sorry, but I'm\n+> really not an expert about these stuff.\n+>\n+> Could the following patch against version 0.51 be applied to the\n+> dbclient manpage?\n+---\n+ dbclient.1 |    3 +++\n+ 1 files changed, 3 insertions(+), 0 deletions(-)\n+\n+diff --git a/dbclient.1 b/dbclient.1\n+index 73d5aaf..3532b7a 100644\n+--- a/dbclient.1\n++++ b/dbclient.1\n+@@ -21,6 +21,9 @@ dbclient \\- lightweight SSH2 client\n+ .B dbclient\n+ is a SSH 2 client designed to be small enough to be used in small memory\n+ environments, while still being functional and secure enough for general use.\n++.P\n++If compiled with zlib support and if the server supports it, dbclient will\n++always use compression.\n+ .SH OPTIONS\n+ .TP\n+ .B \\-p \\fIport\n+--\n+1.7.9.1\n+"),
 ('dropbear-2012.55.orig/debian/diff/0002-dropbearkey.8-mention-y-option-add-example.diff',
  'dropbear-2012.55/debian/diff/0002-dropbearkey.8-mention-y-option-add-example.diff',
  '--- dropbear-2012.55.orig/debian/diff/0002-dropbearkey.8-mention-y-option-add-example.diff\n+++ dropbear-2012.55/debian/diff/0002-dropbearkey.8-mention-y-option-add-example.diff\n@@ -0,0 +1,43 @@\n+From 78c6dbae235b6ad7f5fbf94a2d511ce9177ab8a1 Mon Sep 17 00:00:00 2001\n+From: Gerrit Pape <pape@smarden.org>\n+Date: Wed, 19 Nov 2008 20:57:36 +0000\n+Subject: [PATCH 2/3] dropbearkey.8: mention -y option, add example\n+\n+Patch from debian@x.ray.net through\n+ http://bugs.debian.org/465903\n+---\n+ dropbearkey.8 |    9 +++++++++\n+ 1 files changed, 9 insertions(+), 0 deletions(-)\n+\n+diff --git a/dropbearkey.8 b/dropbearkey.8\n+index b5745dd..d6632d2 100644\n+--- a/dropbearkey.8\n++++ b/dropbearkey.8\n+@@ -9,6 +9,7 @@ dropbearkey \\- create private keys for the use with dropbear(8)\n+ .I file\n+ [\\-s\n+ .IR bits ]\n++[\\-y]\n+ .SH DESCRIPTION\n+ .B dropbearkey\n+ generates a\n+@@ -38,8 +39,16 @@ Write the secret key to the file\n+ Set the key size to\n+ .I bits\n+ bits, should be multiple of 8 (optional).\n++.TP\n++.B \\-y\n++Just print the publickey and fingerprint for the private key in\n++.IR file .\n+ .SH EXAMPLE\n++generate a host-key:\n+  # dropbearkey -t rsa -f /etc/dropbear/dropbear_rsa_host_key\n++\n++extract a public key suitable for authorized_keys from private key:\n++ # dropbearkey -y -f id_rsa | grep "^ssh-rsa " >> authorized_keys\n+ .SH AUTHOR\n+ Matt Johnston (matt@ucc.asn.au).\n+ .br\n+--\n+1.7.9.1\n+'),
 ('dropbear-2012.55.orig/debian/diff/0003-options.h-use-usr-bin-xauth-instead-of-usr-bin-X11-xa.diff',
  'dropbear-2012.55/debian/diff/0003-options.h-use-usr-bin-xauth-instead-of-usr-bin-X11-xa.diff',
  '--- dropbear-2012.55.orig/debian/diff/0003-options.h-use-usr-bin-xauth-instead-of-usr-bin-X11-xa.diff\n+++ dropbear-2012.55/debian/diff/0003-options.h-use-usr-bin-xauth-instead-of-usr-bin-X11-xa.diff\n@@ -0,0 +1,26 @@\n+From 4dbf404cf92452b67e70c46ec026b86bd698a29b Mon Sep 17 00:00:00 2001\n+From: Gerrit Pape <pape@smarden.org>\n+Date: Mon, 2 May 2011 16:29:45 +0000\n+Subject: [PATCH 3/3] options.h: use /usr/bin/xauth instead of\n+ /usr/bin/X11/xauth for XAUTH_COMMAND\n+\n+---\n+ options.h |    2 +-\n+ 1 files changed, 1 insertions(+), 1 deletions(-)\n+\n+diff --git a/options.h b/options.h\n+index 73689ad..e5de261 100644\n+--- a/options.h\n++++ b/options.h\n+@@ -243,7 +243,7 @@ much traffic. */\n+ /* The command to invoke for xauth when using X11 forwarding.\n+  * "-q" for quiet */\n+ #ifndef XAUTH_COMMAND\n+-#define XAUTH_COMMAND "/usr/bin/X11/xauth -q"\n++#define XAUTH_COMMAND "/usr/bin/xauth -q"\n+ #endif\n+\n+ /* if you want to enable running an sftp server (such as the one included with\n+--\n+1.7.9.1\n+')]